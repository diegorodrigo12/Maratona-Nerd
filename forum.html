<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-VGPPMHC0E1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-VGPPMHC0E1');
  </script>
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fórum - Maratonando Geek</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@900&family=Poppins:wght@500&display=swap"
    rel="stylesheet" />
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background-color: #fff;
      color: #333;
      margin: 0;
      padding: 0;
    }

    /* Header */
    header {
      background-color: #1E90FF;
      padding: 20px;
      text-align: center;
      font-weight: 700;
      color: #2c3e50;
      user-select: none;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 16px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .logo-main {
      font-family: 'Montserrat', sans-serif;
      font-style: italic;
      font-weight: 900;
      font-size: 2.8rem;
      letter-spacing: 5px;
      text-transform: uppercase;
      color: #ffffff;
    }

    .logo-sub {
      display: block;
      font-family: 'Poppins', sans-serif;
      font-weight: 500;
      font-size: 0.9rem;
      letter-spacing: 1.5px;
      margin-top: 1px;
      text-transform: none;
      font-style: normal;
      color: #ffffff;
    }

    /* 3. Navegação (nav) */
nav {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  padding: 5px 8px; /* altura reduzida */
  background: #ecf0f1;
  border-bottom: 1px solid #bdc3c7;
  gap: 6px; /* menos espaçamento entre grupos */
  font-weight: bold;
}

nav > ul {
  display: flex;
  flex-wrap: wrap;
  gap: 10px; /* menos espaço entre os links */
  list-style: none;
  padding: 0;
  margin: 0;
}

nav a {
  margin: 2px 6px; /* links mais colados */
  font-size: 0.9rem; /* levemente menor */
  color: #34495e;
  text-decoration: none;
  padding: 4px 8px; /* área clicável reduzida */
  display: block;
  transition: color 0.3s;
  white-space: nowrap;
}

nav a:hover,
nav a.active {
  color: #1E90FF;
}

/* submenu container */
.submenu-parent {
  position: relative;
}

/* setinha no item pai */
.submenu-parent > a::after {
  content: " ▼";
  font-size: 0.7em;
  margin-left: 5px;
  user-select: none;
}

/* submenu */
.submenu {
  position: absolute;
  top: 100%;
  left: 0;
  background: #ecf0f1;
  border: 1px solid #bdc3c7;
  border-radius: 5px;
  display: none;
  min-width: 140px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  z-index: 100;
  flex-direction: column;
  padding: 5px 0; /* espaçamento vertical interno */
  margin: 0; /* remove margens que causam espaçamento extra */
}

/* remove margem/padding dos itens do submenu para que alinhem perfeitamente */
.submenu li {
  margin: 0;
  padding: 0;
  list-style: none;
}

.submenu li a {
  padding: 8px 15px;
  font-weight: normal;
  color: #34495e;
  white-space: nowrap;
}

.submenu li a:hover {
  background: #1E90FF;
  color: white;
}

/* mostra submenu no hover */
.submenu-parent:hover > .submenu {
  display: flex;
  flex-direction: column;
}

/* Ajuste para telas pequenas */
@media (max-width: 600px) {
  nav {
    justify-content: flex-start;
    padding: 10px;
  }
  nav > ul {
    flex-direction: column;
    gap: 5px;
  }
  nav a {
    margin: 5px 0;
  }
  /* submenu fica relativo e escondido no mobile */
  .submenu {
    position: relative;
    top: 0;
    left: 0;
    box-shadow: none;
    border: none;
  }
  .submenu-parent:hover > .submenu {
    display: none; /* para controlar via JS no mobile */
  }
}

    .container {
      max-width: 800px;
      margin: 40px auto;
      background: #fff;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.05);
    }



    form {
      margin-bottom: 30px;
    }

    input[type="text"],
    textarea {
      width: 100%;
      background-color: #f9f9f9;
      border: 1px solid #ccc;
      border-radius: 7px;
      padding: 12px 15px;
      color: #333;
      font-size: 1rem;
      font-family: inherit;
      resize: vertical;
      transition: border-color 0.3s;
      box-sizing: border-box;
    }

    input[type="text"]:focus,
    textarea:focus {
      border-color: #e50914;
      outline: none;
      background-color: #fff;
    }

    button {
      background-color: #e50914;
      color: #fff;
      font-weight: 600;
      font-size: 1.1rem;
      padding: 12px 30px;
      border: none;
      border-radius: 7px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      display: block;
      margin: 0 auto;
    }

    button:hover {
      background-color: #b0070f;
    }

    /* Lista de tópicos */
    #topics-list {
      list-style: none;
      max-height: 350px;
      overflow-y: auto;
      border: 1px solid #ccc;
      border-radius: 10px;
      background-color: #fafafa;
      padding: 10px 0;
    }

    #topics-list li {
      padding: 15px 20px;
      border-bottom: 1px solid #ccc;
      cursor: pointer;
      transition: background-color 0.25s;
      color: #34495e;
    }

    #topics-list li:last-child {
      border-bottom: none;
    }

    #topics-list li:hover {
      background-color: #e50914;
      color: #fff;
    }

    /* Visualização do tópico */
    #topic-view {
      background-color: #fafafa;
      border-radius: 10px;
      padding: 25px 30px;
      box-shadow: 0 0 15px rgba(229, 9, 20, 0.15);
    }

    #topic-view h2 {
      margin-bottom: 15px;
      color: #e50914;
    }

    #topic-view p {
      margin-bottom: 25px;
      font-size: 1.1rem;
      color: #333;
      white-space: pre-line;
    }

    /* Botão voltar */
    .back-btn {
      background: transparent;
      border: none;
      color: #e50914;
      font-weight: 600;
      font-size: 1rem;
      margin-bottom: 20px;
      cursor: pointer;
      transition: color 0.3s;
      display: block;
    }

    .back-btn:hover {
      color: #b0070f;
      text-decoration: underline;
    }

    /* Lista de comentários */
    #comments-list {
      list-style: none;
      max-height: 250px;
      overflow-y: auto;
      margin-bottom: 20px;
      border-top: 1px solid #ccc;
      border-bottom: 1px solid #ccc;
      padding: 10px 0;
      color: #34495e;
    }

    #comments-list li {
      background-color: #fff;
      margin: 10px 20px;
      padding: 12px 15px;
      border-radius: 7px;
      font-size: 0.95rem;
      color: #333;
      box-shadow: 0 0 5px rgba(229, 9, 20, 0.1);
    }

    /* Scrollbar estilizada */
    #topics-list::-webkit-scrollbar,
    #comments-list::-webkit-scrollbar {
      width: 7px;
    }

    #topics-list::-webkit-scrollbar-thumb,
    #comments-list::-webkit-scrollbar-thumb {
      background-color: #e50914;
      border-radius: 10px;
    }

    #topics-list::-webkit-scrollbar-track,
    #comments-list::-webkit-scrollbar-track {
      background-color: #fafafa;
    }

      footer {
      width: 100%;
      background: #ffffff;
      text-align: center;
      padding: 20px;
      color: #888;
      font-size: 0.8rem;
      border-top: 1px solid #ddd;
      margin: 0;
      box-sizing: border-box;
    }
  </style>
</head>

<body>

  <header>
    <h2>Maratonando Geek</h2>
    <div class="logo-sub">Sua central de cultura pop no cinema e streaming.</div>
  </header>

   <nav>
  <ul class="menu">
    <li><a href="index.html" class="active">Início</a></li>

    <li class="submenu-parent">
      <a href="#">Conteúdos</a>
      <ul class="submenu">
        <li><a href="filmes.html">Filmes</a></li>
        <li><a href="series.html">Séries</a></li>
        <li><a href="animes.html">Animes</a></li>
        <li><a href="games.html">Games</a></li>
      </ul>
    </li>
    <li><a href="reviews.html">Reviews</a></li>
    <li><a href="contato.html">Contato</a></li>
    <li><a href="forum.html">Fórum</a></li>
    <li><a href="sobre.html">Sobre</a></li>
  </ul>
</nav>
  <div class="container">

    <h1>Fórum Maratonando Geek</h1>

    <section id="forum-main">
      <form id="new-topic-form" autocomplete="off">
        <h2>Criar novo tópico</h2>
        <input type="text" id="topic-title" placeholder="Título do tópico" required maxlength="100" />
        <textarea id="topic-content" rows="5" placeholder="Conteúdo do tópico" required maxlength="1000"></textarea>
        <button type="submit">Criar tópico</button>
      </form>

      <h2>Tópicos</h2>
      <ul id="topics-list"></ul>
    </section>

    <section id="topic-view" style="display:none;">
      <button class="back-btn" id="back-to-forum">&larr; Voltar aos tópicos</button>
      <h2 id="view-topic-title"></h2>
      <p id="view-topic-content"></p>

      <h3>Comentários</h3>
      <ul id="comments-list"></ul>

      <form id="comment-form" autocomplete="off">
        <textarea id="comment-text" rows="3" placeholder="Escreva seu comentário aqui..." required maxlength="500"></textarea>
        <button type="submit">Enviar comentário</button>
      </form>
    </section>

  </div>

  <footer>
    <p>© 2025 Maratonando Geek. Todos os direitos reservados.</p>
    <div class="footer-links">
      <a href="privacidade.html">Política de Privacidade</a> |
      <a href="termos.html">Termos de Uso</a>
    </div>
  </footer>

  <script>
    // Funções para carregar e salvar tópicos no localStorage
    function loadTopics() {
      return JSON.parse(localStorage.getItem('forumTopics') || '[]');
    }
    function saveTopics(topics) {
      localStorage.setItem('forumTopics', JSON.stringify(topics));
    }

    // Renderiza a lista de tópicos
    function renderTopics() {
      const list = document.getElementById('topics-list');
      const topics = loadTopics();
      list.innerHTML = '';

      if (topics.length === 0) {
        list.innerHTML = '<li style="padding: 15px; color: #aaa; text-align:center;">Nenhum tópico criado ainda.</li>';
        return;
      }

      topics.forEach((topic, idx) => {
        const li = document.createElement('li');
        li.textContent = topic.title;
        li.tabIndex = 0; // para acessibilidade
        li.style.cursor = "pointer";
        li.addEventListener('click', () => openTopic(idx));
        li.addEventListener('keydown', (e) => {
          if (e.key === 'Enter') openTopic(idx);
        });
        list.appendChild(li);
      });
    }

    // Renderiza a visualização de um tópico e seus comentários
    function openTopic(index) {
      const topics = loadTopics();
      const topic = topics[index];
      if (!topic) return;

      currentTopicIndex = index;

      document.getElementById('forum-main').style.display = 'none';
      document.getElementById('topic-view').style.display = 'block';

      document.getElementById('view-topic-title').textContent = topic.title;
      document.getElementById('view-topic-content').textContent = topic.content;

      renderComments(topic.comments || []);
    }

    // Renderiza a lista de comentários de um tópico
    function renderComments(comments) {
      const list = document.getElementById('comments-list');
      list.innerHTML = '';

      if (comments.length === 0) {
        list.innerHTML = '<li style="padding: 10px; color: #aaa; text-align:center;">Nenhum comentário ainda.</li>';
        return;
      }

      comments.forEach(comment => {
        const li = document.createElement('li');
        li.textContent = comment;
        list.appendChild(li);
      });
    }

    // Voltar para a lista de tópicos
    document.getElementById('back-to-forum').addEventListener('click', () => {
      document.getElementById('topic-view').style.display = 'none';
      document.getElementById('forum-main').style.display = 'block';
      currentTopicIndex = null;
      renderTopics();
    });

    // Criar novo tópico
    document.getElementById('new-topic-form').addEventListener('submit', e => {
      e.preventDefault();
      const title = document.getElementById('topic-title').value.trim();
      const content = document.getElementById('topic-content').value.trim();

      if (!title || !content) return;

      const topics = loadTopics();
      topics.push({ title, content, comments: [] });
      saveTopics(topics);

      e.target.reset();
      renderTopics();
    });

    // Enviar comentário
    let currentTopicIndex = null;
    document.getElementById('comment-form').addEventListener('submit', e => {
      e.preventDefault();
      const comment = document.getElementById('comment-text').value.trim();
      if (!comment || currentTopicIndex === null) return;

      const topics = loadTopics();
      topics[currentTopicIndex].comments.push(comment);
      saveTopics(topics);

      e.target.reset();
      renderComments(topics[currentTopicIndex].comments);
    });

    // Inicializa a lista de tópicos
    renderTopics();
  </script>

</body>

</html>
